#include <stdio.h>
short arr[1005][1005];
short visited[1005][1005];
int n,m,nowx,nowy,cnt,mx,num;
bool make[7][7][4]={{{0,0,0,0},{0,0,0,0},{0,0,0,0},{0,0,0,0},{0,0,0,0},{0,0,0,0},{0,0,0,0}},
                    {{0,0,0,0},{1,0,1,0},{0,0,0,0},{0,0,1,0},{0,0,1,0},{1,0,0,0},{1,0,0,0}},
                    {{0,0,0,0},{0,0,0,0},{0,1,0,1},{0,1,0,0},{0,0,0,1},{0,0,0,1},{0,1,0,0}},
                    {{0,0,0,0},{1,0,0,0},{0,0,0,1},{0,0,0,0},{0,0,0,1},{1,0,0,1},{1,0,0,0}},
                    {{0,0,0,0},{1,0,0,0},{0,1,0,0},{0,1,0,0},{0,0,0,0},{1,0,0,0},{1,1,0,0}},
                    {{0,0,0,0},{0,0,1,0},{0,1,0,0},{0,1,1,0},{0,0,1,0},{0,0,0,0},{0,1,0,0}},
                    {{0,0,0,0},{0,0,1,0},{0,0,0,1},{0,0,1,0},{0,0,1,1},{0,0,0,1},{0,0,0,0}}};
int dir[4][2]={{0,1},{1,0},{0,-1},{-1,0}};
void dfs(int x,int y,int px,int py,int dist){
    visited[x][y]++;
    if(visited[x][y]==2){
        cnt++,mx=(mx>dist?mx:dist);
        return;
    }
    for(int i=0;i<4;i++){
        int dx=x+dir[i][0],dy=y+dir[i][1];
        if(dx<0||dy<0||dx>=n||dy>=m||(dx==px and dy==py)||!make[arr[x][y]][arr[dx][dy]][i]) continue;
        dfs(dx,dy,x,y,dist+1);
    }
}
int main(){
    scanf("%d%d",&n,&m);
    for(int i=0;i<n;i++) for(int j=0;j<m;j++) scanf("%d",&arr[i][j]);
    for(int i=0;i<n;i++){
        for(int j=0;j<m;j++){
            if(!visited[i][j]) nowx=i,nowy=j,dfs(i,j,0,0,0);
        }
    }
    printf("%d %d",cnt/2,mx);
}
